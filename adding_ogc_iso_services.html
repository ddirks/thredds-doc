<!DOCTYPE html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="keywords" content=" ">
<title>Adding OGC/ISO Services | THREDDS Documentation</title>
<link rel="stylesheet" href="css/syntax.css">


<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
<!--<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">-->
<link rel="stylesheet" href="css/modern-business.css">
<link rel="stylesheet" href="css/lavish-bootstrap.css">
<link rel="stylesheet" href="css/customstyles.css">
<link rel="stylesheet" href="css/theme-blue.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="js/jquery.navgoco.min.js"></script>


<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/2.0.0/anchor.min.js"></script>
<script src="js/toc.js"></script>
<script src="js/customscripts.js"></script>

<link rel="shortcut icon" href="images/favicon.ico">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link rel="alternate" type="application/rss+xml" title="" href="www.unidata.ucar.edufeed.xml">

    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: true,
                openClass: 'active', // open
                save: false, // leave false or nav highlighting doesn't work right
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });

            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });

        });

    </script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    

</head>
<body>
<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="fa fa-home fa-lg navbar-brand" href="index.html">&nbsp;<span class="projectTitle"> THREDDS Documentation</span></a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- entries without drop-downs appear here -->
                
                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">THREDDS Source<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        
                        <li><a href="https://github.com/Unidata/THREDDS" target="_blank">netCDF-Java and TDS Github Repo</a></li>
                        
                        
                        
                        <li><a href="https://github.com/Unidata/Rosetta" target="_blank">Rosetta Github Repo</a></li>
                        
                        
                        
                        <li><a href="https://github.com/Unidata/siphon" target="_blank">Siphon Github Repo</a></li>
                        
                        
                    </ul>
                </li>
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Tutorial<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        
                        <li><a href="tds_tutorial_index.html">THREDDS Data Server Tutorial</a></li>
                        
                        
                        
                        <li><a href="netcdf_java_tutorial_index.html">netCDF-Java Tutorial</a></li>
                        
                        
                    </ul>
                </li>
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">External Docs<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        
                        <li><a href="https://www.unidata.ucar.edu/software/rosetta/docs/" target="_blank">Rosetta</a></li>
                        
                        
                        
                        <li><a href="https://siphon.readthedocs.io/en/latest/#" target="_blank">Siphon</a></li>
                        
                        
                    </ul>
                </li>
                
                
                
			<li><a class="email" title="Submit feedback" href="#" onclick="javascript:window.location='mailto:support-thredds@unidta.ucar.edu?subject=THREDDS Documentation Feedback f eedback&body=I have some feedback about the Adding OGC/ISO Services page: ' + window.location.href;"><i class="fa fa-envelope-o"></i> Feedback</a><li>

		
                <!--comment out this block if you want to hide search-->
                <li>
                    <!--start search-->
                    <div id="search-demo-container">
                        <input type="text" id="search-input" placeholder="search...">
                        <ul id="results-container"></ul>
                    </div>
                    <script src="js/jekyll-search.js" type="text/javascript"></script>
                    <script type="text/javascript">
                            SimpleJekyllSearch.init({
                                searchInput: document.getElementById('search-input'),
                                resultsContainer: document.getElementById('results-container'),
                                dataSource: 'search.json',
                                searchResultTemplate: '<li><a href="{url}" title="Adding OGC/ISO Services">{title}</a></li>',
                    noResultsText: 'No results found.',
                            limit: 10,
                            fuzzy: true,
                    })
                    </script>
                    <!--end search-->
                </li>
            </ul>
        </div>
        </div>
        <!-- /.container -->
</nav>

<!-- Page Content -->
<div class="container">
    <div class="col-lg-12">&nbsp;</div>
    <!-- Content Row -->
    <div class="row">
        <!-- Sidebar Column -->
        <div class="col-md-3">

          







<ul id="mysidebar" class="nav">
    <li class="sidebarTitle">TDS Tutorial 5.0.0</li>
    
    
    
        
    
    <li>
        <a href="#">Getting Started with the TDS</a>
        <ul>
            
            
            
            <li><a href="tds_tutorial_index.html">TDS Overview</a></li>
            
            
            
            
            
            
            <li><a href="install_java_tomcat.html">Installing Java and Tomcat</a></li>
            
            
            
            
            
            
            <li><a href="tomcat_dir_structure_qt.html">Tomcat Directory Structure</a></li>
            
            
            
            
            
            
            <li><a href="running_tomcat.html">Running Tomcat</a></li>
            
            
            
            
            
            
            <li><a href="tomcat_log_files.html">Tomcat Log Files</a></li>
            
            
            
            
            
            
            <li><a href="tomcat_configuration_files.html">Tomcat Config Files</a></li>
            
            
            
            
            
            
            <li><a href="deploying_the_tds.html">Deploying the TDS</a></li>
            
            
            
            
            
            
            <li><a href="tomcat_manager_app.html">Tomcat Manager Application</a></li>
            
            
            
            
            
            
            <li><a href="where_to_go_from_here.html">Where to go from here</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Client Catalogs</a>
        <ul>
            
            
            
            <li><a href="basic_client_catalog.html">Basic Client Catalog Primer</a></li>
            
            
            
            
            
            
            <li><a href="nested_datasets.html">Nested Datasets</a></li>
            
            
            
            
            
            
            <li><a href="client_catalog_metadata.html">Client Catalog Metadata</a></li>
            
            
            
            
            
            
            <li><a href="client_catalog_references.html">Catalog References</a></li>
            
            
            
            
            
            
            <li><a href="compound_service_elements.html">Compound service elements</a></li>
            
            
            
            
            
            
            <li><a href="client_catalog_xml_validation.html">XML Validation</a></li>
            
            
            
            
            
            
            <li><a href="client_catalog_via_toolsUI.html">Client Catalogs in ToolsUI</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">TDS Configuration</a>
        <ul>
            
            
            
            <li><a href="tds_content_directory.html">TDS Content Directory</a></li>
            
            
            
            
            
            
            <li><a href="default_config_catalog.html">Default TDS Configuration Catalog</a></li>
            
            
            
            
            
            
            <li><a href="basic_config_catalog.html">Basics of Configuration Catalogs</a></li>
            
            
            
            
            
            
            <li><a href="basic_tds_configuration.html">Basic TDS Configuration</a></li>
            
            
            
            
            
            
            <li class="active"><a href="adding_ogc_iso_services.html">Adding OGC / ISO Services</a></li>
            
            
            
            
            
            
            <li><a href="adding_ncss.html">Adding the netCDF Subset Service</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Monitoring and Debugging</a>
        <ul>
            
            
            
            <li><a href="under_construction.html">TDS Monitoring and Debugging</a></li>
            
            
            
            
            
            
            <li><a href="under_construction.html">Tomcat and TDS Logs</a></li>
            
            
            
            
            
            
            <li><a href="under_construction.html">Using the TdsMonitor Tool</a></li>
            
            
            
            
            
            
            <li><a href="under_construction.html">3rd Party Tools</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">netCDF Markup Language (NcML)</a>
        <ul>
            
            
            
            <li><a href="under_construction.html">Basic NcML Tutorial</a></li>
            
            
            
            
            
            
            <li><a href="under_construction.html">NcML Aggregation</a></li>
            
            
            
            
            
            
            <li><a href="under_construction.html">Using NcML in the TDS</a></li>
            
            
            
            
            
            
            <li><a href="under_construction.html">Basic NcML Examples</a></li>
            
            
            
            
            
            
            <li><a href="under_construction.html">NcML Aggregation Examples</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Feature Collections</a>
        <ul>
            
            
            
            <li><a href="under_construction.html">Overview</a></li>
            
            
            
            
            
            
            <li><a href="under_construction.html">GRIB Feature Collections</a></li>
            
            
            
            
            
            
            <li><a href="under_construction.html">GRIB Feature Collection Tutorial</a></li>
            
            
            
            
            
            
            <li><a href="under_construction.html">GRIB Files in CDM</a></li>
            
            
            
            
            
            
            <li><a href="under_construction.html">GRIB Tables in CDM</a></li>
            
            
            
            
            
            
            <li><a href="under_construction.html">Forecast Model Run Collections (FMRC)</a></li>
            
            
            
            
            
            
            <li><a href="under_construction.html">FMRC Examples</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Metadata</a>
        <ul>
            
            
            
            <li><a href="under_construction.html">THREDDS Metadata</a></li>
            
            
            
            
            
            
            <li><a href="under_construction.html">ISO Metadata Generation</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Production Servers</a>
        <ul>
            
            
            
            <li><a href="production_server_overview.html">Overview</a></li>
            
            
            
            
            
            
            <li><a href="under_construction.html">Troubleshooting Problems</a></li>
            
            
            
            
            
            
            <li><a href="under_construction.html">Performance Tips</a></li>
            
            
            
            
            
            
            <li><a href="under_construction.html">Upgrading to 5.0</a></li>
            
            
            
            
            
            
            <li><a href="under_construction.html">Installation Checklist</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">FAQ</a>
        <ul>
            
            
            
            <li><a href="tds_faq.html">FAQ</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Reference Guide</a>
        <ul>
            
            
            
            <li><a href="tds_config_ref.html">TDS Config (threddsConfig.xml)</a></li>
            
            
            
            
            
            
            <li><a href="viewers_ref.html">Viewers</a></li>
            
            
            
            
            
            
            <li><a href="dataset_source_plugin.html">Data Source Plugins</a></li>
            
            
            
            
            
            
            <li><a href="wcs_ref.html">WCS Reference</a></li>
            
            
            
            
            
            
            <li><a href="wms_ref.html">WMS Reference</a></li>
            
            
            
            
            
            
            <li><a href="under_construction.html">Remote Management Reference</a></li>
            
            
            
            
            
            
            <li><a href="under_construction.html">Netcdf Subset Service Reference</a></li>
            
            
            
            
            
            
            <li><a href="tds_doc_guide.html">netCDF-Java and TDS Doc Guide</a></li>
            
            
            
            
        </ul>
        
        
        
        <!-- if you aren't using the accordion, uncomment this block:
           <p class="external">
               <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
           </p>
           -->
    </li>
</ul>
</div>

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>

    <!-- Content Column -->
    <div class="col-md-9">
        <div class="post-header">
   <h1 class="post-title-main">Adding OGC/ISO Services</h1>
</div>



<div class="post-content">

   

    

    

    

    

  <h2 id="configure-tds-to-allow-wcs-wms-and-nciso-access">Configure TDS to Allow WCS, WMS, and <code class="highlighter-rouge">ncISO</code> Access</h2>

<p>Out of the box, the TDS distribution will have WCS, WMS, and <code class="highlighter-rouge">ncISO</code> enabled.
If you do not wish to use these services, they must be explicitly allowed in the <code class="highlighter-rouge">threddsConfig.xml</code> file.
Please see the  <a href="/tds_config_ref.html#wcs-service">threddsConfig.xml file</a> documentation for information on how to disable these services.
The default <code class="highlighter-rouge">threddsConfig.xml</code> file (which should now be in your <code class="highlighter-rouge">${tds.content.root.path}/content/thredds</code> directory) contains commented out sections for each of these services.</p>

<h3 id="wcs-configuration"><code class="highlighter-rouge">WCS</code> Configuration</h3>

<p>The following section in the <code class="highlighter-rouge">threddsConfig.xml</code> file controls the WCS service:</p>

<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;WCS&gt;</span>
  <span class="nt">&lt;allow&gt;</span>true<span class="nt">&lt;/allow&gt;</span>
  ...
<span class="nt">&lt;/WCS&gt;</span>
</code></pre>
</div>

<p>Additional <code class="highlighter-rouge">WCS</code> configuration options can be set in the <code class="highlighter-rouge">threddsConfig.xml</code> file.
More details are available in the <code class="highlighter-rouge">WCS</code> section of the <a href="/tds_config_ref.html#wcs-service">threddsConfig.xml file</a> documentation.</p>

<h3 id="wms-configuration"><code class="highlighter-rouge">WMS</code> Configuration</h3>

<p>The following section in the <code class="highlighter-rouge">threddsConfig.xml</code> file controls the WMS service:</p>

<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;WMS&gt;</span>
  <span class="nt">&lt;allow&gt;</span>true<span class="nt">&lt;/allow&gt;</span>
  ...
<span class="nt">&lt;/WMS&gt;</span>
</code></pre>
</div>

<p>Additional <code class="highlighter-rouge">WMS</code> configuration options can be set in the <code class="highlighter-rouge">threddsConfig.xml</code> file,
More details are available in the <code class="highlighter-rouge">WMS</code> section of the <a href="/tds_config_ref.html#wms-service">threddsConfig.xml file</a> documentation.</p>

<h3 id="nciso-configuration"><code class="highlighter-rouge">ncISO</code> Configuration</h3>

<p>The following section in the <code class="highlighter-rouge">threddsConfig.xml</code> file controls the <code class="highlighter-rouge">ncIso</code> services:</p>

<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;NCISO&gt;</span>
  <span class="nt">&lt;ncmlAllow&gt;</span>true<span class="nt">&lt;/ncmlAllow&gt;</span>
  <span class="nt">&lt;uddcAllow&gt;</span>true<span class="nt">&lt;/uddcAllow&gt;</span>
  <span class="nt">&lt;isoAllow&gt;</span>true<span class="nt">&lt;/isoAllow&gt;</span>
<span class="nt">&lt;/NCISO&gt;</span>
</code></pre>
</div>

<p>Each <code class="highlighter-rouge">*Allow</code> element allows one of the three <code class="highlighter-rouge">ncISO</code> services.</p>

<h3 id="adding-wcs-and-wms-services">Adding <code class="highlighter-rouge">WCS</code> and <code class="highlighter-rouge">WMS</code> Services</h3>

<p>As long as the <code class="highlighter-rouge">WCS</code> and <code class="highlighter-rouge">WMS</code> services are enabled, all that is required for the TDS to provide <code class="highlighter-rouge">WCS</code> and <code class="highlighter-rouge">WMS</code> access to datasets is for those datasets to reference <code class="highlighter-rouge">WCS</code> and <code class="highlighter-rouge">WMS</code> service elements.
Adding them to an existing compound service would look something like this:</p>

<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;service</span> <span class="na">name=</span><span class="s">"grid"</span> <span class="na">serviceType=</span><span class="s">"Compound"</span> <span class="na">base=</span><span class="s">""</span> <span class="nt">&gt;</span>
    <span class="nt">&lt;service</span> <span class="na">name=</span><span class="s">"odap"</span> <span class="na">serviceType=</span><span class="s">"OpenDAP"</span> <span class="na">base=</span><span class="s">"/thredds/dodsC/"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;service</span> <span class="na">name=</span><span class="s">"wcs"</span> <span class="na">serviceType=</span><span class="s">"WCS"</span> <span class="na">base=</span><span class="s">"/thredds/wcs/"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;service</span> <span class="na">name=</span><span class="s">"wms"</span> <span class="na">serviceType=</span><span class="s">"WMS"</span> <span class="na">base=</span><span class="s">"/thredds/wms/"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;service</span> <span class="na">name=</span><span class="s">"ncss"</span> <span class="na">serviceType=</span><span class="s">"NetcdfSubset"</span> <span class="na">base=</span><span class="s">"/thredds/ncss/"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;service</span> <span class="na">name=</span><span class="s">"http"</span> <span class="na">serviceType=</span><span class="s">"HTTPServer"</span> <span class="na">base=</span><span class="s">"/thredds/fileServer/"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/service&gt;</span>
</code></pre>
</div>

<h3 id="adding-nciso-services">Adding <code class="highlighter-rouge">ncISO</code> Services</h3>

<p>Similar to above, as long as the <code class="highlighter-rouge">ncISO</code> services are enabled, all that is required for the TDS to provide <code class="highlighter-rouge">ncISO</code> services on datasets is for those datasets to reference the <code class="highlighter-rouge">ncISO</code> service elements.
For instance, adding to the same compound service as above:</p>

<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;service</span> <span class="na">name=</span><span class="s">"grid"</span> <span class="na">serviceType=</span><span class="s">"Compound"</span> <span class="na">base=</span><span class="s">""</span> <span class="nt">&gt;</span>
    <span class="nt">&lt;service</span> <span class="na">name=</span><span class="s">"odap"</span> <span class="na">serviceType=</span><span class="s">"OpenDAP"</span> <span class="na">base=</span><span class="s">"/thredds/dodsC/"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;service</span> <span class="na">name=</span><span class="s">"wcs"</span> <span class="na">serviceType=</span><span class="s">"WCS"</span> <span class="na">base=</span><span class="s">"/thredds/wcs/"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;service</span> <span class="na">name=</span><span class="s">"wms"</span> <span class="na">serviceType=</span><span class="s">"WMS"</span> <span class="na">base=</span><span class="s">"/thredds/wms/"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;service</span> <span class="na">name=</span><span class="s">"ncss"</span> <span class="na">serviceType=</span><span class="s">"NetcdfSubset"</span> <span class="na">base=</span><span class="s">"/thredds/ncss/"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;service</span> <span class="na">name=</span><span class="s">"http"</span> <span class="na">serviceType=</span><span class="s">"HTTPServer"</span> <span class="na">base=</span><span class="s">"/thredds/fileServer/"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;service</span> <span class="na">name=</span><span class="s">"ncml"</span> <span class="na">serviceType=</span><span class="s">"NCML"</span> <span class="na">base=</span><span class="s">"/thredds/ncml/"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;service</span> <span class="na">name=</span><span class="s">"uddc"</span> <span class="na">serviceType=</span><span class="s">"UDDC"</span> <span class="na">base=</span><span class="s">"/thredds/uddc/"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;service</span> <span class="na">name=</span><span class="s">"iso"</span> <span class="na">serviceType=</span><span class="s">"ISO"</span> <span class="na">base=</span><span class="s">"/thredds/iso/"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/service&gt;</span>
</code></pre>
</div>

<h3 id="exercise-setup-wcs-and-wms-access-for-nam-data">Exercise: Setup <code class="highlighter-rouge">WCS</code> and <code class="highlighter-rouge">WMS</code> Access for NAM Data</h3>

<ol>
  <li>
    <p>Edit the TDS configuration file and allow <code class="highlighter-rouge">WCS</code> and <code class="highlighter-rouge">WMS</code> services as discussed above</p>

    <div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span><span class="nb">cd</span> <span class="k">${</span><span class="nv">tds</span><span class="p">.content.root.path</span><span class="k">}</span>/thredds
<span class="gp">$ </span>vim threddsConfig.xml
</code></pre>
    </div>

    <p>and add/replace the <code class="highlighter-rouge">WCS</code> and <code class="highlighter-rouge">WMS</code> elements (as described above)</p>

    <div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;WCS&gt;</span>
  <span class="nt">&lt;allow&gt;</span>true <span class="nt">&lt;/allow&gt;</span>
<span class="nt">&lt;/WCS&gt;</span>
<span class="nt">&lt;WMS&gt;</span>
  <span class="nt">&lt;allow&gt;</span>true<span class="nt">&lt;/allow&gt;</span>
<span class="nt">&lt;/WMS&gt;</span>
</code></pre>
    </div>
  </li>
  <li>
    <p>Edit the <code class="highlighter-rouge">catalog.xml</code> file and add <code class="highlighter-rouge">WCS</code> and <code class="highlighter-rouge">WMS</code> services to the NAM dataset</p>

    <div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;service</span> <span class="na">name=</span><span class="s">"wcs"</span> <span class="na">serviceType=</span><span class="s">"WCS"</span> <span class="na">base=</span><span class="s">"/thredds/wcs/"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;service</span> <span class="na">name=</span><span class="s">"wms"</span> <span class="na">serviceType=</span><span class="s">"WMS"</span> <span class="na">base=</span><span class="s">"/thredds/wms/"</span> <span class="nt">/&gt;</span>
</code></pre>
    </div>
  </li>
  <li>
    <p>Restart Tomcat so the TDS is reinitialized:</p>

    <div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span><span class="nb">cd</span> <span class="k">${</span><span class="nv">tomcat_home</span><span class="k">}</span>/bin
<span class="gp">$ </span>./shutdown.sh
<span class="gp">$ </span>./startup.sh
</code></pre>
    </div>
  </li>
  <li>Test that <code class="highlighter-rouge">WCS</code> and <code class="highlighter-rouge">WMS</code> are working:
    <ol>
      <li>Bring the catalog up in a browser: <a href="http://localhost:8080/thredds/catalog.html" target="_blank">http://localhost:8080/thredds/catalog.html</a></li>
      <li>Click down to one of the NAM dataset pages.</li>
      <li>Select the <code class="highlighter-rouge">WCS</code> Access link</li>
      <li>Go back, select the <code class="highlighter-rouge">WMS</code> Access link</li>
    </ol>
  </li>
  <li>Check Dataset Viewer Links for Godiva2 (ToolsUI and Godiva2 are there but IDV is not).</li>
</ol>

<h3 id="adding-grid-datatype-to-datasets">Adding <code class="highlighter-rouge">Grid</code> DataType to Datasets</h3>

<p>Once datasets are accessible over the <code class="highlighter-rouge">WMS</code> and <code class="highlighter-rouge">WCS</code> services, a quick look at the dataset pages shows several <code class="highlighter-rouge">Viewer</code> links available for each dataset (<code class="highlighter-rouge">ToolsUI</code> and <code class="highlighter-rouge">Godiva2</code>).
The IDV <code class="highlighter-rouge">Viewer</code> link is only added for datasets with a <code class="highlighter-rouge">Grid</code> data type.
This is not whether the dataset is recognized by the <code class="highlighter-rouge">CDM</code> as gridded but rather if the metadata in the catalog indicates that the dataset is a <code class="highlighter-rouge">Grid</code>.
This is accomplished with the <code class="highlighter-rouge">dataType</code> metadata element:</p>

<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;dataType&gt;</span>Grid<span class="nt">&lt;/dataType&gt;</span>
</code></pre>
</div>

<h3 id="exercise-add-grid-datatype-to-the-nam-data">Exercise: Add <code class="highlighter-rouge">Grid</code> DataType to the NAM Data</h3>

<ol>
  <li>Edit the <code class="highlighter-rouge">catalog.xml</code> file and add a <code class="highlighter-rouge">Grid</code> <code class="highlighter-rouge">dataType</code> element (as above) to the NAM dataset.</li>
  <li>
    <p>Restart Tomcat so the TDS is reinitialized:</p>

    <div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span><span class="nb">cd</span> <span class="k">${</span><span class="nv">tomcat_home</span><span class="k">}</span>/bin
<span class="gp">$ </span>./shutdown.sh
<span class="gp">$ </span>./startup.sh
</code></pre>
    </div>
  </li>
  <li>Check the dataset pages for the IDV Viewer link.</li>
</ol>

<h3 id="more-wms-configuration">More <code class="highlighter-rouge">WMS</code> Configuration</h3>

<p>Besides the basic <code class="highlighter-rouge">WMS</code> configuration available in the <code class="highlighter-rouge">threddsConfig.xml</code> file, there are additional configuration settings in the <code class="highlighter-rouge">wmsConfig.xml</code> file.
These settings can be applied globally, by dataset, by variable in a dataset, or to variables in any dataset by CF standard name.</p>

<h3 id="default-image-styling">Default Image Styling</h3>

<p>There are additional configuration settings for default image styling including settings for the default values of color scale range, palette name, and number of color bands as well as whether to use a linear or logarithmic scale.</p>

<p>Detailed information is available from the [ncWMS/MyOcean]{updatme} <code class="highlighter-rouge">WMS</code> Detailed Configuration web page.</p>

<h3 id="interval-time-vs-full-time-list-in-getcapabilities-documents">Interval Time vs Full Time List in <code class="highlighter-rouge">GetCapabilities</code> Documents</h3>

<p>By default, the <code class="highlighter-rouge">WMS</code> will list all time values in a <code class="highlighter-rouge">GetCapabilities</code> document.
For long time-series, this list can cause the <code class="highlighter-rouge">GetCapabilities</code> document to be quite large.
Datasets/variables can be configured to use time intervals with the addition of an <code class="highlighter-rouge">intervalTime</code> element in the <code class="highlighter-rouge">wmsConfig.xml</code> file.
For instance:</p>

<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;intervalTime&gt;</span>true<span class="nt">&lt;/intervalTime&gt;</span>
</code></pre>
</div>

<p>Unfortunately, though time intervals are part of the <code class="highlighter-rouge">WMS</code> specification, not all <code class="highlighter-rouge">WMS</code> clients know how to interpret time intervals in the <code class="highlighter-rouge">GetCapabilities</code> document.</p>

<h3 id="exercise-try-modifying-the-wmsconfigxml-file">Exercise: Try Modifying the <code class="highlighter-rouge">wmsConfig.xml</code> File</h3>

<ol>
  <li>Open a dataset in Godiva2 and plot a parameter.</li>
  <li>Notice the default color scale range is [-50,50].
Decide on a better color scale range.</li>
  <li>Open the “ <code class="highlighter-rouge">WMS</code> Detailed Configuration” page in your browser.</li>
  <li>
    <p>Edit the wmsConfig.xml file</p>

    <div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span><span class="nb">cd</span> <span class="k">${</span><span class="nv">tds</span><span class="p">.content.root.path</span><span class="k">}</span>/thredds
<span class="gp">$ </span>vi, wmsConfig.xml
</code></pre>
    </div>

    <p>and change the color scale range for the target parameter in the chosen dataset.</p>
  </li>
  <li>Reopen Godiva2 on the dataset and plot the target parameter.
Check the new default color scale range.</li>
</ol>

<h3 id="styling-features-and-non-standard-requests">Styling features and non-standard requests</h3>

<p>ncWMS provides several styling and displaying capabilities that are also available in TDS:</p>

<ul>
  <li>The <code class="highlighter-rouge">WMS</code> tries to identify vector components that it can combine and display as a single vector layer.
 It looks for CF standard_name attributes with values of the form <code class="highlighter-rouge">eastward_*</code> and <code class="highlighter-rouge">northward_*</code> and combines those that match into a vector layer.</li>
  <li>ncWMS provides several vector styles: barb, stumpvec, trivec, linevec, fancyvec.Demo</li>
  <li>
    <p>Some styling properties can be specified through the non-standard optional parameters supported by ncWMS</p>
  </li>
  <li>
    <p>Some non-standard requests are supported by ncWMS:</p>

    <ol>
      <li>GetTransect</li>
      <li>GetVerticalProfile</li>
      <li>GetVerticalSection</li>
    </ol>
  </li>
</ul>

<h3 id="exercise-wms-request-with-styling-parameters">Exercise: <code class="highlighter-rouge">WMS</code> request with styling parameters</h3>

<ol>
  <li>Open the non-standard optional parameters supported by ncWMS page</li>
  <li>Make several <code class="highlighter-rouge">WMS</code> request changing the color scale range and the displaying properties for the values out of range.</li>
  <li>Use this as base request.</li>
</ol>

<h3 id="using-wcs-and-wms">Using <code class="highlighter-rouge">WCS</code> and WMS</h3>

<h4 id="various-wcs-and-wms-clients">Various <code class="highlighter-rouge">WCS</code> and <code class="highlighter-rouge">WMS</code> Clients</h4>

<ul>
  <li><a href="https://www.google.com/earth/" target="_blank">GoogleEarth</a> (WMS) [free]</li>
  <li>Godiva3 (WMS) [free - distributed with TDS]</li>
  <li><a href="https://worldwind.arc.nasa.gov" target="_blank">NASA WorldWind</a> (WMS) [free]</li>
  <li><a href="https://www.unidata.ucar.edu/software/idv/" target="_blank">IDV</a> (WMS) [free]</li>
  <li><a href="http://www.unidata.ucar.edu/downloads/netcdf/netcdf-java-4/index.jsp" target="_blank">ToolsUI</a> (WMS) [free]</li>
  <li><a href="http://geopython.github.io/OWSLib/" target="_blank">OWSlib</a> (WMS and WCS) [free]</li>
  <li><a href="https://www.cadcorp.com/products/free-mapping-software/" target="_blank">Map Express</a> (<code class="highlighter-rouge">WMS</code> and <code class="highlighter-rouge">WCS</code>) [commercial / free]</li>
  <li><a href="http://www.harrisgeospatial.com/ProductsandSolutions/GeospatialProducts/IDL.aspx" target="_blank">IDL</a> (WMS) [commercial]</li>
  <li><a href="http://www.gvsig.org/web/" target="_blank">gvSIG</a> (WMS and WCS) [free]</li>
</ul>

<h4 id="godiva2-wms-client">Godiva2 <code class="highlighter-rouge">WMS</code> Client</h4>

<p>The Godiva2 <code class="highlighter-rouge">WMS</code> client is part of the ncWMS code base and as such is included in the TDS distribution.
It is a web application written in JavaScript using the OpenLayers library.</p>

<p>In the TDS, you can access the Godiva2 client from the <code class="highlighter-rouge">Viewers</code> section of all <code class="highlighter-rouge">WMS</code> accessible datasets.
The Godiva2 User Guide is available from the ncWMS site.</p>

<figure><img class="docimage" src="images/tds/tutorial/tds_configuration/Godiva2_screenshot.png" alt="Godiva2" /><figcaption></figcaption></figure>

<h3 id="owslib-python-client-example">OWSLib (python client) example:</h3>

<p><a href="http://nbviewer.jupyter.org/github/Unidata/unidata-python-workshop/blob/master/notebooks/wms_sample.ipynb" target="_blank">tds-python-workshop <code class="highlighter-rouge">WMS</code> notebook</a></p>


    <div class="tags">
        
    </div>

    

</div>

<hr class="shaded"/>

<footer>
            <div class="row">
                <div class="col-lg-12 footer">
               &copy;2017 Unidata. All rights reserved. <br />
<span>Page last updated:</span> 2017-01-17<br/> Site last generated: Sep 14, 2017 <br />
<p><img src="http://www.unidata.ucar.edu/images/logo.png" alt="UCAR/Unidata"/></p>
                </div>
            </div>
</footer>


    </div>
    <!-- /.row -->
</div>
<!-- /.container -->
    </div>

</body>

<!-- the google_analytics_id gets auto inserted from the config file -->



<script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-92978945-1','auto');ga('require','displayfeatures');ga('send','pageview');</script>


</html>